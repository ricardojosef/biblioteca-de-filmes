<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busca de Filmes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
        }
        input, button {
            padding: 10px;
            margin: 5px;
        }
        .movie-list {
            margin-top: 20px;
            text-align: left;
        }
        .movie {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
        }
        textarea {
            width: 100%;
            height: 50px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Busca de Filmes</h1>
        <input type="text" id="movieSearch" placeholder="Digite o nome do filme">
        <button onclick="searchMovie()">Buscar</button>
        <div id="movieResult"></div>
        <h2>Meus Filmes</h2>
        <div class="movie-list" id="savedMovies"></div>
    </div>
    
    <script>
        const apiKey = "49bf0c25";

        function searchMovie() {
            const movieTitle = document.getElementById("movieSearch").value;
            fetch(`https://www.omdbapi.com/?t=${movieTitle}&apikey=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    if (data.Response === "True") {
                        displayMovie(data);
                    } else {
                        document.getElementById("movieResult").innerHTML = "Filme não encontrado.";
                    }
                })
                .catch(error => console.error("Erro ao buscar filme:", error));
        }

        function displayMovie(movie) {
            const movieResult = document.getElementById("movieResult");
            movieResult.innerHTML = `
                <div class="movie">
                    <h3>${movie.Title} (${movie.Year})</h3>
                    <img src="${movie.Poster}" alt="Poster">
                    <p><strong>Gênero:</strong> ${movie.Genre}</p>
                    <p><strong>Diretor:</strong> ${movie.Director}</p>
                    <button onclick='saveMovie(${JSON.stringify(movie)})'>Salvar Filme</button>
                </div>
            `;
        }

        function saveMovie(movie) {
            const savedMovies = document.getElementById("savedMovies");
            const movieDiv = document.createElement("div");
            movieDiv.classList.add("movie");
            movieDiv.innerHTML = `
                <h3>${movie.Title} (${movie.Year})</h3>
                <img src="${movie.Poster}" alt="Poster">
                <p><strong>Gênero:</strong> ${movie.Genre}</p>
                <p><strong>Diretor:</strong> ${movie.Director}</p>
                <textarea placeholder="Adicione suas anotações"></textarea>
                <textarea placeholder="Referências e comentários"></textarea>
                <button onclick="this.parentElement.remove()">Remover</button>
            `;
            savedMovies.appendChild(movieDiv);
        }
    </script>
</body>
</html>
